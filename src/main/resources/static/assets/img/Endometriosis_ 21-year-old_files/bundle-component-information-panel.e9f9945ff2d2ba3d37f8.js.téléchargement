"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[698],{13756:function(e,t,n){var r,o,a,l=n(27378),i=n(68442),c=n(10043),d=n(40),u=n(55336),s=n(61932),p=n(92371),f=n(18435),h=n(87062),m=n(44475),g=n(51663),v=n(6284);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=(0,i.default)("div",{target:"eu74mg86",label:"StyledInformationPanel"})("display:inline-block;",(e=>{var{expanded:t}=e;return t&&"position: relative"}),";html.no-js &{display:none;}"),A=(0,i.default)("div",{target:"eu74mg85",label:"StyledPanelContent"})(u.eV," ",s.oV," ",(e=>{var{hidden:t}=e;return!t&&"display: flex"}),";",(e=>{var{panelType:t,theme:n}=e;return(e=>{var{panelType:t,theme:n}=e;switch(t){case"error":return(0,c.iv)(r||(r=y(["\n        background-color: ",";\n        color: ",";\n        border: "," solid ",";\n        a:link {\n          color: ",";\n        }\n        @supports (clip-path: inset(100%)) {\n          &::after {\n            background-color: ",";\n          }\n          &::before {\n            background-color: ",";\n          }\n        }\n      "])),n.colourPalette.states.error,n.colourPalette.states.onError,(0,d.s)(1),n.colourPalette.states.error,n.colourPalette.states.onError,n.colourPalette.states.error,n.colourPalette.states.error);case"midground":return(0,c.iv)(o||(o=y(["\n        background-color: ",";\n        color: ",";\n        border: "," solid ",";\n        @supports (clip-path: inset(100%)) {\n          &::after {\n            background-color: ",";\n          }\n          &::before {\n            background-color: ",";\n          }\n        }\n      "])),n.colourPalette.midground,n.colourPalette.primary,(0,d.s)(1),n.colourPalette.border,n.colourPalette.midground,n.colourPalette.border);default:return(0,c.iv)(a||(a=y(["\n        background-color: ",";\n        color: ",";\n        border: "," solid ",";\n        @supports (clip-path: inset(100%)) {\n          &::after {\n            background-color: ",";\n          }\n          &::before {\n            background-color: ",";\n          }\n        }\n      "])),n.colourPalette.background,n.colourPalette.primary,(0,d.s)(1),n.colourPalette.border,n.colourPalette.background,n.colourPalette.border)}})({panelType:t,theme:n})}),";position:absolute;",(e=>{var{verticalAlignment:t}=e;return"top"===t?"bottom: calc(100% + ".concat(p.SPACING_6,")"):"top: calc(100% + ".concat(p.SPACING_6,")")}),";",(e=>{var{horizontalAlignment:t}=e;return"left"===t&&"left: 0"}),";",(e=>{var{horizontalAlignment:t}=e;return"right"===t&&"right: 0"}),";",(e=>{var{horizontalAlignment:t}=e;return"centre"===t&&"left: 50%; transform: translateX(-50%)"}),";width:15rem;width:max-content;",(e=>{var{panelMaxWidthPx:t}=e;return t>0?"\n        max-width: 80vw;\n        @supports (max-width: min(80vw, ".concat((0,d.s)(t),")) {\n          max-width: min(80vw, ").concat((0,d.s)(t),");\n        }\n      "):"max-width: 80vw;"})," z-index:",f.I.INFORMATION_PANEL_CONTENT,";",(e=>{var{theme:t,panelType:n}=e;return"error"===n&&"a:link {\n        color: ".concat(t.colourPalette.states.onError,";\n    }")})," &::before,&::after{content:'';display:inline-block;position:absolute;",(e=>{var{verticalAlignment:t}=e;return"top"===t?"clip-path: polygon(0 0, 50% 100%, 100% 0) ":"clip-path: polygon(0 100%, 50% 0, 100% 100%)"}),";width:",p.SPACING_4,";height:",p.SPACING_3,";",(e=>{var{horizontalAlignment:t}=e;return"left"===t&&"left: ".concat(p.SPACING_4)}),";",(e=>{var{horizontalAlignment:t}=e;return"right"===t&&"right: ".concat(p.SPACING_4)}),";",(e=>{var{horizontalAlignment:t}=e;return"centre"===t&&"left: calc(50% - ".concat(p.SPACING_2,")")}),";}&::after{",(e=>{var{verticalAlignment:t}=e;return"top"===t?"bottom: calc(-".concat(p.SPACING_3," + ").concat((0,d.s)(1),")"):"top: calc(-".concat(p.SPACING_3," + ").concat((0,d.s)(1),")")}),";}&::before{",(e=>{var{verticalAlignment:t}=e;return"top"===t?"bottom: calc(-".concat(p.SPACING_3," - ").concat((0,d.s)(1),")"):"top: calc(-".concat(p.SPACING_3," - ").concat((0,d.s)(1),")")}),";}"),w=(0,i.default)("div",{target:"eu74mg84",label:"ContentWrapper"})(""),E=(0,i.default)("div",{target:"eu74mg83",label:"PanelWrapper"})("padding:",p.SPACING_3,";",(e=>{var{hideTitle:t}=e;return t?"display: inline-block":"display: block"}),";"),k=(0,i.default)("div",{target:"eu74mg82",label:"CloseButtonWrapper"})("float:right;",(e=>{var{theme:t,panelType:n}=e;return"error"===n&&"button {\n      color: ".concat(t.colourPalette.states.onError,";\n    }")}),";"),x=(0,i.default)("div",{target:"eu74mg81",label:"StyledTitleArea"})(u.ce," ",s.o$,";padding-bottom:",p.SPACING_4,";",(e=>{var{hideTitle:t}=e;return t&&m.Z.styles})," white-space:pre-line;"),C=(0,i.default)("div",{target:"eu74mg80",label:"IconWrapper"})("align-self:flex-start;width:1em;padding-left:",p.SPACING_3,";padding-top:",p.SPACING_3,";min-width:",p.SPACING_5,";");t.Z=e=>{var{button:t,id:n,panelTitle:r,panelType:o="background",panelIcon:a,panelMaxWidthPx:i,panelStateCallback:c,horizontalAlignment:d="left",verticalAlignment:u="bottom",expanded:s=!1,hideTitle:p=!1,trackRef:f,children:m}=e,y=(0,l.useRef)(null),_=(0,l.useRef)(null),S=(0,l.useRef)(null),[N,I]=(0,l.useState)({expanded:Boolean(s),shiftFocus:!1}),T=(e=>{switch(e){case"gd":return"dÃ¹in";case"cy":return"cau";default:return"close panel"}})((0,h.Qg)()),G=e=>{e.preventDefault(),I({expanded:!N.expanded,shiftFocus:!0})},L=(0,l.useRef)(!0);(0,l.useEffect)((()=>{L.current?L.current=!1:I({expanded:Boolean(s),shiftFocus:Boolean(s)})}),[s]),(0,l.useEffect)((()=>{"function"==typeof c&&c(N.expanded)}),[N,c]),(0,l.useEffect)((()=>{if(N.expanded||N.shiftFocus)if(N.expanded&&N.shiftFocus){var e=window.matchMedia&&(!0===window.matchMedia("(prefers-reduced-motion: reduce)")||!0===window.matchMedia("(prefers-reduced-motion: reduce)").matches),t=S.current.getBoundingClientRect(),n=_.current.getBoundingClientRect(),r=t.bottom>window.innerHeight;S.current.children[0].focus({preventScroll:!0}),r&&!e&&window.scrollBy({top:n.top+n.height/2-window.innerHeight,behavior:"smooth"})}else y.current.children[0].children[0].children[0].focus()}),[N]),(0,l.useEffect)((()=>{var e=_.current,t=e=>{27===e.keyCode&&I({expanded:!1,shiftFocus:!0})};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}})),(0,l.useEffect)((()=>{var e=_.current.querySelectorAll("a[href], button:not([disabled]), input:not([disabled]):not([type=radio]), input[type=radio][checked]:not([disabled]), textarea:not([disabled]), select:not([disabled])"),t=e[e.length-1],n=e=>{e.shiftKey||9!==e.keyCode||I({expanded:!1,shiftFocus:!1})},r=e[0],o=e=>{e.shiftKey&&9===e.keyCode&&I({expanded:!1,shiftFocus:!1})};return t.addEventListener("keydown",n),r.addEventListener("keydown",o),()=>{t.removeEventListener("keydown",n),r.removeEventListener("keydown",o)}})),(0,l.useEffect)((()=>{var e=y.current,t=t=>{e.contains(t.target)||I({expanded:!1,shiftFocus:!1})};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}));var O=(0,l.isValidElement)(t)?t:l.createElement("div",{ref:f},l.createElement("div",{"data-testid":"information-panel-button"},l.createElement(g.Z,b({},t,{onClick:G,"aria-haspopup":"true","aria-expanded":N.expanded}))));return l.createElement(P,{expanded:N.expanded,ref:y},O,l.createElement(A,{hidden:!N.expanded,role:"group",horizontalAlignment:d,verticalAlignment:u,"aria-labelledby":n,ref:_,panelType:o,panelMaxWidthPx:i,"data-testid":"information-panel-content"},a&&l.createElement(C,{"data-testid":a},l.createElement(v.Z,{type:a})),l.createElement(w,null,l.createElement(k,{panelType:o,ref:S},l.createElement(g.Z,{emphasis:"low",iconOnly:"true",iconType:"actions:close",onClick:G,cornerFit:!0},T)),l.createElement(E,{hideTitle:p},l.createElement(x,{hideTitle:p,id:n,"aria-hidden":"true"},r),m))))}}}]);