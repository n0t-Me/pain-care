"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5374],{62261:function(n,e,t){t.r(e),t.d(e,{default:function(){return f}});var i=t(27378),a=(t(42668),t(4669)),r=t(10796),o=t(68016),s=t(74868),c=t(67254),l=t(40264),u=n=>{var e,t=0;if(0===n.length)return t;if("0"===n)return 0;for(e=0;e<n.length;e++)t=(t<<5>>>0)-t+n.charCodeAt(e),t|=0,t>>>=0;return t=1+(t%=100),Math.abs(t)};function g(n,e,t,i,a,r,o){try{var s=n[r](o),c=s.value}catch(l){return void t(l)}s.done?e(c):Promise.resolve(c).then(i,a)}var f=n=>{var{data:{homepageLink:e,notificationsLink:t,accountLabel:f,signInLabel:p,accessibilityLinks:d,chameleonSearchLink:h,moreMenuLabel:v,closeButtonLabel:m,chameleonNavigationLinks:L,liveHub:y},showServiceIdentifiers:b,currentPageAnalyticsDestination:_,idctaConfigUrl:I}=n,k="https://account.bbc.com/account",w=(0,r.TH)(),{host:A,language:D,country:E,is_uk:N}=(0,c.B)(),S=!D||"cy"!==D&&"gd"!==D&&"en"!==D||D.endsWith("-GB")?D:"".concat(D,"-GB"),B="https://".concat(A).concat(w.pathname),[C,P]=(0,i.useState)({signedIn:!1,prompt:f,url:k}),[H,O]=(0,i.useState)(),j=E&&["gb","gg","im","je"].includes(E.toLowerCase()),G=N||j;return(0,i.useEffect)((()=>{var n=(0,o.ej)({name:"ckns_id"}),e=new AbortController,{signal:t}=e,i=function(){var e,i=(e=function*(){try{var e=yield(0,a.Z)(I,{signal:t}),i=yield e.json();if("GREEN"===i["id-availability"])if(n)try{var r=JSON.parse(window.atob(n)),{ps:c,pn:l}=r,g=i["foryou-access-chance"];if("GREEN"===i["foryou-flagpole"]&&(v=!!(0,o.ej)({name:"ckns_profile"}),m="u13"!==(0,s.Vy)(),L=!1!==(0,s.w$)(),m&&L&&!v&&G)){var d;null!==(d=i.forYouAllowlist)&&void 0!==d&&d.includes(c)&&O(!0);var h=((n,e)=>{if(void 0===n){var t=u(e);return(0,s._Z)({name:"pn",value:t}),t}return n})(l,c);h<=g&&O(!0)}P({signedIn:!0,prompt:r.dn?r.dn:f,url:k,hasDisplayName:!!r.dn})}catch(y){P({signedIn:!1,prompt:p,url:i.signin_url})}else P({signedIn:!1,prompt:p,url:i.signin_url})}catch(b){P({signedIn:!1,prompt:f,url:k})}var v,m,L},function(){var n=this,t=arguments;return new Promise((function(i,a){var r=e.apply(n,t);function o(n){g(r,i,a,o,s,"next",n)}function s(n){g(r,i,a,o,s,"throw",n)}o(void 0)}))});return function(){return i.apply(this,arguments)}}();return i(),()=>{e.abort()}}),[f,I,p,H,j,G]),i.createElement(l.Z,{signedIn:C.signedIn,signInPrompt:C.prompt,signInUrl:C.url,hasDisplayName:C.hasDisplayName,signInPtrt:B,language:S,homepageLink:e,notificationsLink:t,accessibilityLinks:d,chameleonSearchLink:h,closeButtonLabel:m,items:L,country:E,moreMenuLabel:v,showServiceIdentifiers:b,currentPageAnalyticsDestination:_,showForYouNavigation:H,liveHub:y})}}}]);