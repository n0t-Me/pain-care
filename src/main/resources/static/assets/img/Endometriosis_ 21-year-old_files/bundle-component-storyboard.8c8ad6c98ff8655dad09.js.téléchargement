"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3667],{80065:function(e,t,i){i.d(t,{Z:function(){return Z}});var a=i(27378),l=i(68442),n=i(91943),r=i(44475),o=i(1898),d=i(34107),c=i(89900),s=i(29895),u=i(51663),m=i(59529),g=i(81458),p=i(40),f=i(92371),h=i(55336),y=i(61932),b=i(87062),v=i(25252),x=i(28433),E={default:{imageGallery:"Image gallery",previousImage:"Previous image",nextImage:"Next image",slide:"Slide",slideNumeration:"of",skipLinkText:"Skip image gallery",skipLinkEndText:"End of image gallery"},cy:{imageGallery:"Oriel luniau",previousImage:"Y llun blaenorol",nextImage:"Y llun nesaf",slide:"Sleid",slideNumeration:"o",skipLinkText:"Neidio heibio'r oriel luniau",skipLinkEndText:"Diwedd yr oriau luniau"},gd:{imageGallery:"Gailearaidh dhealbhan",previousImage:"Dealbh roimhe",nextImage:"An ath dhealbh",slide:"Duilleag",slideNumeration:"de",skipLinkText:"Leum seachad air gailearaidh dhealbhan",skipLinkEndText:"Deireadh gailearaidh dhealbhan"}};i(17827);var k=(0,l.default)("section",{target:"e47idof9",label:"ImageGallerySection"})("position:relative;background:",(e=>{var{theme:t,useAccentColour:i}=e;return i?t.colourPalette.accent:t.colourPalette.midground}),";"),S=(0,l.default)("span",{target:"e47idof8",label:"StyledAccessibilityLinks"})({name:"17q2mnx",styles:">:first-child:focus{z-index:2;}"}),w=(0,l.default)("ol",{target:"e47idof7",label:"Gallery"})({name:"wemehq",styles:"max-width:100%;display:flex;overflow-x:auto;scroll-snap-type:x mandatory;position:relative;-ms-overflow-style:none;scrollbar-width:none;margin:0;padding:0;list-style:none;&::-webkit-scrollbar{display:none;}"}),C=(0,l.default)("li",{target:"e47idof6",label:"Slide"})({name:"160gz0d",styles:"width:100%;min-height:100%;flex-shrink:0;position:relative;scroll-snap-align:start;scroll-snap-stop:always;display:flex;flex-direction:column; z-index:1"}),I=(0,l.default)("div",{target:"e47idof5",label:"ContainerWithBackground"})("width:100%;padding-top:100%;position:relative;overflow:hidden;flex-grow:0;flex-shrink:0;@media (min-width: ",g.TN,"){padding-top:56.25%;}&::before{content:'';position:absolute;z-index:0;top:",(0,p.s)(-60),";left:",(0,p.s)(-60),";width:calc(100% + ",(0,p.s)(120),");height:calc(100% + ",(0,p.s)(120),");background-image:url(",(e=>{var{image:t}=e;return t}),");background-size:cover;background-position:center;filter:blur(",(0,p.s)(30),");}"),L=(0,l.default)("div",{target:"e47idof4",label:"ContentPositioning"})({name:"1y45q3k",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:0;bottom:0;left:0;right:0"}),N=(0,l.default)("div",{target:"e47idof3",label:"ImageContainer"})("max-width:100%;max-height:100%;position:absolute;top:0px;right:0px;bottom:0px;left:0px;>:first-child{padding-bottom:100%;@media (min-width: ",g.TN,"){padding-bottom:56.25%;}}"),T=(0,l.default)("div",{target:"e47idof2",label:"StyledControls"})((e=>{var{hidden:t}=e;return t&&"visibility: hidden;"})," display:flex;justify-content:flex-end;align-items:center;height:",(0,p.s)(44),";padding:",f.SPACING_6," ",f.SPACING_2," ",f.SPACING_2," 0;"),_=(0,l.default)("div",{target:"e47idof1",label:"Buttons"})("display:flex;gap:",f.SPACING_3,";"),A=(0,l.default)("p",{target:"e47idof0",label:"CurrentEntry"})(h.eV," ",y.WM," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";margin-right:",f.SPACING_4,";"),G=e=>{var{children:t}=e,[i,l]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{l(!1)}),[]),a.createElement(T,{hidden:i},t)},P=e=>{var{condition:t,children:i}=e;return t?a.createElement(m.Z,null,i):i},Z=e=>{var{images:t,experienceComposition:i,useAccentColour:l}=e,m=t.length,[g,p]=(0,a.useState)(!0),[f,h]=(0,a.useState)(1===m),y=(0,a.useRef)(null),T=(0,a.useRef)([]),[Z,O]=(0,a.useState)(0),z=(0,a.useCallback)((e=>{var{directionOffset:t=0}=e;y.current.scrollLeft=y.current.offsetWidth*(Z+t)}),[Z]),D={root:y.current,rootMargin:"0px",threshold:.5},F=(0,n.Z)(T.current,D);(0,a.useEffect)((()=>{F&&F.forEach((e=>{var t=T.current.findIndex((t=>t.current.isEqualNode(e.target)));e.isIntersecting&&t>-1&&e.intersectionRatio>=.5&&(O(t),p(0===t),h(t===m-1))}))}),[F,m]);var q=(0,b.Qg)(),B=E[q]||E.default,{imageGallery:R,slideNumeration:j,previousImage:W,nextImage:H,slide:K,skipLinkText:M,skipLinkEndText:U}=B,Y="".concat(Z+1," ").concat(j," ").concat(m);return(0,a.useEffect)((()=>(window.addEventListener("resize",z,{passive:!0}),()=>window.removeEventListener("resize",z))),[Z,z]),a.createElement(k,{"aria-labelledby":"image-gallery",useAccentColour:l},a.createElement(P,{condition:l},a.createElement(r.Z,{id:"image-gallery"},R),a.createElement(S,null,a.createElement(o.Z,{offset:!1,links:[{url:"#end-of-image-gallery",label:M}]})),a.createElement(w,{ref:y,tabIndex:0},t.map(((e,l)=>{var{image:n,caption:r}=null==e?void 0:e.model,{alt:o,copyright:u,src:m,srcSet:g,sizes:p,backgroundSrc:f,height:h,width:y,mimeType:b,fallbackSrcSets:E}=n,k=r?a.createElement(d.Z,{blocks:r.model.blocks,container:a.Fragment,hideFromFocus:l!==Z}):null,S=(0,x.XP)({groupName:"Storyboard Experience",groupType:"storyboard experience",groupItemCount:t.length,itemType:"slide",itemName:o,type:"image",itemPosition:l,image:{src:m},experienceComposition:i});return a.createElement(v.f,{tracking:S,key:"".concat(m,"-").concat(l),trackClicks:!1},(e=>{var{trackRef:t}=e;return a.createElement(C,{key:"".concat(m,"-").concat(l),ref:e=>{T.current[l]={current:e}},"aria-hidden":l!==Z,"data-testid":"slide".concat(l)},a.createElement("div",{ref:t},a.createElement(c.Z,{caption:k,copyright:u,mediaType:"image",isInStoryboard:!0},a.createElement(I,{image:f},a.createElement(L,null,a.createElement(N,null,a.createElement(s.Z,{fallbackSrcSets:E,mimeType:b,src:m,srcSet:g,sizes:p,alt:o,loading:0===l?"eager":"lazy",height:h,width:y,placeholderObjectFit:"contain",placeholder:"transparent"})))))))}))}))),a.createElement(G,null,a.createElement(A,{"data-testid":"currentEntry"},Y),a.createElement(_,null,a.createElement(u.Z,{emphasis:"high",iconType:"arrows:chevron-left",iconOnly:!0,onClick:()=>z({directionOffset:-1}),disabled:g,"data-testid":"back-button"},W),a.createElement(u.Z,{emphasis:"high",iconType:"arrows:chevron-right",iconOnly:!0,onClick:()=>z({directionOffset:1}),disabled:f,"data-testid":"forward-button"},H))),a.createElement(r.Z,{"data-testid":"live-region",id:"live-region","aria-live":"polite","aria-atomic":"true"},(()=>{var e,i=t[Z],{image:l,caption:n}=null==i?void 0:i.model,{alt:r}=l,o=null==n||null===(e=n.model)||void 0===e||null===(e=e.blocks)||void 0===e?void 0:e.filter((e=>"paragraph"===(null==e?void 0:e.type))),d=null==o?void 0:o.reduce(((e,t)=>{var i,a=null==t||null===(i=t.model)||void 0===i?void 0:i.text;return"".concat(e," ").concat(a).trim()}),"");return a.createElement(a.Fragment,null,a.createElement("span",{role:"text"},K," ",Y,", ",r,", ",d))})()),a.createElement(r.Z,{as:"div"},a.createElement("div",{id:"end-of-image-gallery",tabIndex:-1},U))))}}}]);