"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4807],{24703:function(e,t,r){r.d(t,{Z:function(){return je}});var a=r(27378),l=r(68442),n=r(91582),i=r(40),o=r(70854),u=r(25252),c=r(28433),m=r(55336),s=r(61932),d=r(92371),g=r(81458),p=(0,l.default)("h2",{target:"eao56wr5",label:"Heading"})(m.ce," ",s.Pm," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),f=(0,l.default)("p",{target:"eao56wr4",label:"Body"})(m.eV," ",s.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";margin-top:",d.SPACING_2,";"),b=(0,l.default)("div",{target:"eao56wr3",label:"KeyContainer"})("margin-top:",d.SPACING_4,";display:flex;flex-direction:row;>:not(:first-of-type){margin-left:",d.SPACING_6,";}"),h=(0,l.default)("div",{target:"eao56wr2",label:"KeyItemContainer"})("display:flex;flex-direction:row;align-items:center;",m.eV," ",s.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),v=(0,l.default)("span",{target:"eao56wr1",label:"KeyNumber"})("display:inline-flex;align-items:center;justify-content:center;",s.o$," width:",(0,i.s)(28),";height:",(0,i.s)(28),";margin-right:",d.SPACING_2,";border-radius:50%;background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";@media (min-width: ",g.TN,"){width:",(0,i.s)(32),";height:",(0,i.s)(32),";}"),y=(0,l.default)("div",{target:"eao56wr0",label:"HowToPlayContainer"})("border-top:",(0,i.s)(4)," solid ",(e=>{var{theme:t}=e;return t.colourPalette.accent}),";padding:",d.SPACING_4," ",d.SPACING_2,";@media (min-width: ",g.TN,"){padding:",d.SPACING_4,";}"),P=e=>{var{number:t,children:r}=e;return a.createElement(h,null,a.createElement(v,null,t),a.createElement("span",null," ",r))},E=()=>a.createElement(y,null,a.createElement(p,null,"How to play"),a.createElement(f,null,"Rate players out of 10 throughout or after the game. The rater will close 30 minutes after the final whistle."),a.createElement(b,null,a.createElement(P,{number:1},"Give it up"),a.createElement(P,{number:10},"Pure perfection"))),w=r(1898),N=r(44401),S=r(44475),O=r(83084),x=r(67254),A=r(45599),_=r(25040),C=r(86594);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R="km5ifdffcjdoc",T="19t3g6sdf3o50",G=(e,t,r,a)=>{var{env:l,isDotCom:n}=e,i=((e,t)=>{var r="live"===e?"live":"test";return(0,_.Z)({apiKey:"live"===r?R:T,environment:r,activityType:"reactions",timeout:3e3,useNsi:"mandatory",isDotCom:t})})(l,n),o=((e,t,r)=>{var a,l,n=(0,C.Z)().withResourceId(((e,t)=>"urn:bbc:sportsdata::matchplayerid:".concat(e,"_").concat(t))(e,t)).withResourceType("matchplayer").withResourceDomain("sport").withAction("rated").withActionContext(r).build();return j(j({},n),{},{metaData:(a={e:432241441,f:839857441,g:335119933,h:580739429,i:905910641,j:862824769,k:963722687},l=(e,t)=>a[e]*t,{e:l("e",Math.floor(1e5*Math.random())+1),f:l("f",Math.floor(1e5*Math.random())+1),g:l("g",Math.floor(1e5*Math.random())+1),h:l("h",Math.floor(1e5*Math.random())+1),i:l("i",Math.floor(1e5*Math.random())+1),j:l("j",Math.floor(1e5*Math.random())+1),k:l("k",Math.floor(1e5*Math.random())+1)})})})(t,r,a);return i.post(o)},D=(0,a.createContext)({}),M="NOT_STARTED",Z="OPEN",W="CLOSED",L=e=>Number("".concat(Math.round(Number("".concat(e,"e2"))),"e-2")).toFixed(2),V=(e,t)=>t===W?[...e.players.starters,...e.players.substitutes].sort(((e,t)=>t.averageRating-e.averageRating)):e,H=r(6284),B=(0,l.default)("div",{target:"e217yfw2",label:"SubmitIndicatorWrapper"})("display:flex;margin-left:auto;justify-content:space-between;align-items:center;width:",(0,i.s)(88),";"),K=(0,l.default)("div",{target:"e217yfw1",label:"IconWrapper"})("width:",(0,i.s)(13.33),";height:",(0,i.s)(13.33),";color:",(e=>{var{theme:t}=e;return t.colourPalette.states.success}),";"),F=(0,l.default)("div",{target:"e217yfw0",label:"SubmitText"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.states.success}),";",s.pG," ",m.eV,";"),J=()=>a.createElement(B,{"aria-label":"Submit Indicator"},a.createElement(K,null,a.createElement(H.Z,{type:"actions:confirm"})),a.createElement(F,null,"Submitted")),U=(0,l.default)("span",{target:"ey207y70",label:"PlayerNameWrapper"})("white-space:nowrap;overflow:hidden;text-overflow:ellipsis;",m.ce,";"),$=e=>{var{children:t}=e;return a.createElement(U,null,t)},X=r(11452),q=r(60525),z="sport_player_rater_ratings",Q=e=>{if((0,X.Z)()&&(0,q.Z)()){var t=localStorage.getItem(z);return t&&JSON.parse(t)[e]||{}}return{}};var Y=(0,l.default)("div",{target:"e1pg7wux6",label:"PlayerRow"})("&:not(:first-of-type){margin-top:",d.SPACING_5,";}"),ee=(0,l.default)("div",{target:"e1pg7wux5",label:"PlayerDetails"})("display:flex;justify-content:space-between;margin-bottom:",d.SPACING_2,";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";",s.o$," ",m.eV,";"),te=(0,l.default)("div",{target:"e1pg7wux4",label:"Wrapper"})({name:"i1fnl9",styles:"display:flex;align-items:center;flex:1;overflow:hidden"}),re=(0,l.default)("span",{target:"e1pg7wux3",label:"PlayerShirtNumber"})("margin-right:",d.SPACING_2,";"),ae=(0,l.default)("span",{target:"e1pg7wux2",label:"PlayerScore"})(s.Pm,";"),le=(0,l.default)("div",{target:"e1pg7wux1",label:"RatingBarWrapper"})("width:100%;background:",(e=>{var{theme:t}=e;return t.colourPalette.states.blockHover}),";margin-top:",d.SPACING_2,";"),ne=(0,l.default)("div",{target:"e1pg7wux0",label:"RatingBar"})("width:",(e=>{var{value:t}=e;return t/10*100}),"%;height:",(0,i.s)(8),";background:",(e=>{var{theme:t}=e;return t.colourPalette.accent}),";"),ie=e=>{var{player:t,isRaterOpen:r,initialSelectedRating:l}=e,{host:n,env:i}=(0,x.B)(),{eventId:o,tracking:u}=(0,a.useContext)(D),c=n&&n.endsWith(".com"),[m,s]=(0,a.useState)(void 0),[d,g]=(0,a.useState)(!1),[p,f]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{s(l)}),[l]);return a.createElement(Y,null,a.createElement(ee,null,a.createElement(te,null,a.createElement(S.Z,null,"Number: "),a.createElement(re,null,"".concat(t.shirtNumber," ")),a.createElement($,null,t.shortName)),r?d&&a.createElement(J,null):a.createElement(a.Fragment,null,a.createElement(S.Z,null,"Average Rating: "),a.createElement(ae,{"data-testid":"player-score"},L(t.averageRating)))),r?a.createElement(O.Z,{id:t.id,maxRating:10,onChange:e=>{var r=parseInt(e.target.value,10);s(r),G({env:i,isDotCom:c},o,t.id,r).then((()=>{(()=>{p&&clearTimeout(p),g(!0);var e=setTimeout((()=>{g(!1)}),5e3);f(e)})(),((e,t,r)=>{if((0,X.Z)()&&(0,q.Z)()){var a,l=null!==(a=JSON.parse(localStorage.getItem(z)))&&void 0!==a?a:{};l[e]||(l[e]={}),l[e][t]=r,localStorage.setItem(z,JSON.stringify(l))}})(o,t.id,r)})).catch((e=>A.vU(e)))},selectedRating:m,tracking:u}):a.createElement(le,null,a.createElement(ne,{value:t.averageRating})))},oe=(0,l.default)("div",{target:"e1mh8mx24",label:"TeamWrapper"})(m.eV,";",s.oV,";margin:",d.SPACING_4," ",d.SPACING_2,";@media (min-width: ",g.TN,"){margin:",d.SPACING_4,";}"),ue=(0,l.default)("h3",{target:"e1mh8mx23",label:"Headings"})(m.ce,";",s.WM,";color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";margin-bottom:",d.SPACING_3,";"),ce=(0,l.default)("div",{target:"e1mh8mx22",label:"PlayerListWrapper"})("margin-top:",d.SPACING_3,";"),me=(0,l.default)("hr",{target:"e1mh8mx21",label:"SubDivider"})("border:none;height:",(0,i.s)(1),";background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin:",d.SPACING_4," 0;"),se=(0,l.default)("div",{target:"e1mh8mx20",label:"AccessibilityLinksWrapper"})("background-color:red;position:relative;top:",(0,i.s)(22),";left:-",d.SPACING_2,";@media (min-width: ",g.TN,"){left:-",d.SPACING_4,";}"),de=e=>{var{players:t,isRaterOpen:r}=e,{ratings:l}=(0,a.useContext)(D),[n,i]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{!r&&N.Z&&/Android/.test(navigator.userAgent)&&/Chrome/.test(navigator.userAgent)&&i(-1)}),[r]),a.createElement(ce,{tabIndex:n,"data-testid":"player-list-wrapper"},t.map((e=>a.createElement(ie,{player:e,isRaterOpen:r,key:e.id,initialSelectedRating:l[e.id]}))))},ge=e=>{var{team:t,sport:r}=e,{ariaLabel:l,visualLabel:n}={ariaLabel:"Starting 11",visualLabel:"Starting XI"};return a.createElement(a.Fragment,null,a.createElement(ue,{"aria-label":l},a.createElement("span",{"aria-hidden":!0},n)),a.createElement(de,{players:t.players.starters,isRaterOpen:!0}),a.createElement(me,{"aria-hidden":!0}),a.createElement(ue,null,"Substitutes"),t.players.substitutes.length>0?a.createElement(de,{players:t.players.substitutes,isRaterOpen:!0}):a.createElement("p",null,"No players have been substituted yet"))},pe=e=>{var{sortedTeam:t}=e;return a.createElement(de,{players:t,isRaterOpen:!1})},fe=e=>{var{teamName:t,team:r,isRaterOpen:l,sport:n}=e,[i,o]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(()=>{if(N.Z){var e=/iPhone|iPad|iPod/.test(navigator.userAgent),t=navigator.userAgent.includes("Macintosh"),r=navigator.maxTouchPoints>=1;return e||t&&r}return!1})()&&o(!1)}),[]);var u,c=[{label:"Back to team tabs",url:"#tab-".concat((u=t,null==u?void 0:u.replace(/ /g,"")))}];return a.createElement(oe,null,l?a.createElement(ge,{team:r,sport:n}):a.createElement(pe,{sortedTeam:r}),i&&a.createElement(se,null,a.createElement(w.Z,{links:c,offset:!1})))},be=r(14812);var he=(0,l.default)("div",{target:"ex2baxd5",label:"PlayerOfTheMatchWrapper"})("display:flex;flex-direction:column;background:radial-gradient(circle at 40% 15%, #fbfc7c, rgba(251, 252, 124, 0.1) 60%),radial-gradient(circle at 100%, #fdfc53, rgba(253, 252, 83, 0.1) 50%),linear-gradient(to right, #ebc848 50%, #fde966);padding:",d.SPACING_4," ",d.SPACING_2,";",m.eV,";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";@media (min-width: ",g.TN,"){padding:",d.SPACING_4," ",d.SPACING_4,";}"),ve=(0,l.default)("div",{target:"ex2baxd4",label:"PlayerDetailsWrapper"})("display:flex;justify-content:space-between;margin-top:",d.SPACING_2,";",s.Pm," ",m.ce,";"),ye=(0,l.default)("div",{target:"ex2baxd3",label:"PlayerRatingWrapper"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Pe=(0,l.default)("img",{target:"ex2baxd2",label:"Icon"})("height:100%;width:",(0,i.s)(24),";@media (min-width: ",g.TN,"){width:",(0,i.s)(28),";}"),Ee=(0,l.default)("span",{target:"ex2baxd1",label:"PlayerRating"})("margin-left:",d.SPACING_2,";"),we=(0,l.default)("h2",{target:"ex2baxd0",label:"Heading"})(s.o$,";"),Ne=e=>{var{shirtNumber:t,shortName:r,averageRating:l}=e,n=L(l);return a.createElement(he,null,a.createElement(we,null,"Player of the match"),a.createElement(ve,null,a.createElement(S.Z,null,"Number: ".concat(t," ")),a.createElement($,null,r),a.createElement(ye,null,a.createElement(S.Z,null,"Average rating "),a.createElement(Pe,{src:be,"aria-hidden":!0}),a.createElement(Ee,null,n))))};function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){xe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=(0,l.default)("div",{target:"ekbf1x91",label:"PlayerRaterWrapper"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";html.no-js &{display:none;}"),_e=(0,l.default)("hr",{target:"ekbf1x90",label:"Divider"})("margin:0;width:100%;height:",(0,i.s)(1),";border:none;background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";"),Ce=e=>({tabName:e.fullName}),Ie=e=>{var{tracking:t,sport:r,children:l}=e;if(t){var n=Oe(Oe({},(0,c.XP)(Oe({groupType:"player rater",groupName:"Sport player rater",headline:"Sport player rater - ".concat(r),itemType:"player rater"},t))),{},{label:"Sport player rater"});return a.createElement(u.f,{tracking:n,trackDwell:!0,trackClicks:!1},(e=>{var{trackRef:t}=e;return a.createElement(Ae,{ref:t},l)}))}return a.createElement(Ae,null,l)},je=e=>{var{homeTeam:t,awayTeam:r,state:l,sport:i,eventId:u,tracking:c}=e,m=(0,n.u)();if(l===M)return null;var s,d,g,p,f={eventId:u,ratings:Q(u),tracking:c},b=V(t,l),h=V(r,l);return a.createElement(n.a,{theme:m.updateTheme({palette:"light"})},a.createElement(D.Provider,{value:f},a.createElement(Ie,{tracking:c,sport:i},l!==W?a.createElement(E,null):(s=h,d=b[0],g=s[0],p=g.averageRating>d.averageRating?g:d,a.createElement(Ne,{shirtNumber:p.shirtNumber,shortName:p.shortName,averageRating:p.averageRating})),a.createElement(_e,{"aria-hidden":!0}),a.createElement(o.Z,null,a.createElement(fe,{teamName:t.fullName,team:b,isRaterOpen:l===Z,layout:Ce(t),key:"homeTeam",sport:i}),a.createElement(fe,{teamName:r.fullName,team:h,isRaterOpen:l===Z,layout:Ce(r),key:"awayTeam",sport:i})))))}}}]);