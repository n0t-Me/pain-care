/*! "1.253.0-20231127-113203-a235930" */!function(){"use strict";const o=o=>{if("undefined"==typeof document||!o)return"";const e=`; ${document.cookie}`.split(`; ${encodeURIComponent(o)}=`);let t="";return 2===e.length&&(t=decodeURIComponent(e.pop().split(";").shift())),t},e=(o,e,t)=>{if("undefined"==typeof document||!o)return;const n=new Date(Date.now()+864e5*t);document.cookie=`${encodeURIComponent(o)}=${encodeURIComponent(e)}; expires=${n.toGMTString()}; domain=.bbc.com; path=/`},t=o=>{window.dotcom.consent=o},n=o=>{if("object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==o)return window.dotcom.vendorConsent[o]},i=(o,e)=>{"object"==typeof window.dotcom.vendorConsent&&null!==window.dotcom.vendorConsent&&void 0!==o&&(window.dotcom.vendorConsent[o]=e)},a=["AT","AX","BE","BG","BL","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],d=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href),s=()=>"undefined"!=typeof live&&"test"===live||-1!==window.location.href.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test)(.dev)*.bbc.co*/.test(window.location.href)||/web.(int|test).bbcx.test.api.bbc.com/.test(window.location.href),r=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,c=()=>d()||r()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts,w=o=>{var e;window.dotcom.userinfo.country=o["X-Country"],window.dotcom.userinfo.notUkIp="no"===o["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===o["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(e=window.dotcom.userinfo.country)&&-1!==a.indexOf(e.toUpperCase()))},l=(o,e)=>{e||(delete o.adverts,delete o.analytics),Object.keys(o).forEach((e=>{let t=o[e];t="true"===t||t,t="false"!==t&&t,window.dotcom.flags[e]=t})),"www.bbc.com"!==window.location.hostname||"/news/uk/the_queen"!==window.location.pathname&&"/news/live/uk-62902778"!==window.location.pathname&&"/news/topics/c8nq32jwn4rt"!==window.location.pathname&&"/news/topics/cq23pdgvr7rt"!==window.location.pathname||(window.dotcom.flags.adverts=!1)},p=async(o,e)=>fetch(o).then((o=>{if(o.ok)return o.json();throw new Error(e)})),m=async()=>{const o="Error fetching flags",e=await p(s()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas",o).catch((()=>{throw window.dotcom.flags.state=-2,new Error(o)}));l(e,!1),window.dotcom.flags.state=2};let u=[];const f={isAdsDebug:d,isTestEnv:s,isStageEnv:()=>/stage.bbc.co*/.test(window.location.href)||/web.stage.bbcx.test.api.bbc.com/.test(window.location.href),isSignedIn:()=>o("ckns_id"),isDotcomAllowed:r,syncAdsEnabled:()=>c(),isAdsEnabled:()=>new Promise((o=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?o(c()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?u.push(o):o(c())})),checkCookies(){t(1);const n=o("ckns_policy");(d()||n&&"1"===n.charAt(2))&&t(2),n||window.dotcom.userinfo.eea||(t(2),e("ckns_policy","111",365),e("ckns_explicit","0",365))},async init(){const o=new URLSearchParams(window.location.search);try{d()?(window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0,window.dotcom.userinfo.state=1,await m()):(await(async()=>{const o="Error fetching userinfo",{userinfo:e={}}=window.dotcom.config;if(e["X-Country"]&&e["X-Ip_is_uk_combined"]&&e["X-Ip_is_advertise_combined"])return w(e),void(window.dotcom.userinfo.state=2);const t=await p("https://www.bbc.com/userinfo",o).catch((()=>{throw window.dotcom.userinfo.state=-1,new Error(o)}));w(t),window.dotcom.userinfo.state=1})(),r()?window.dotcom.config.opsFlags&&!o.has("force-client-flagpoles")?(l(window.dotcom.config.opsFlags,!0),l(window.dotcom.config.ngasFlags,!1),window.dotcom.flags.state=2):(await(async()=>{const o="Error fetching gnlops flags",e=await p(s()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops",o).catch((()=>{throw window.dotcom.flags.state=-1,new Error(o)}));l(e,!0),window.dotcom.flags.state=1})(),!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||await m()):window.dotcom.flags.state=-3)}finally{u&&u.length>0&&(u.forEach((o=>o(c()))),u=[])}},reset(){u=[]}},g=()=>window.dotcom.data,h=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),y=/^(\/)?(news|sport)/,b=new RegExp("^/ws/av-embeds/"),v=o=>{const e=o||window.location.pathname;return h.test(e)||b.test(e)},_=()=>!!window.dotcom?.config?.xPlatform,E=()=>{const o=g().channel;return("future"===o||"worklife"===o||"travel"===o||"culture"===o)&&!_()},k=v,L=()=>"japanese"===g().channel,I=E,x=()=>"reel"===g().channel,R=()=>"storyworks"===g().channel,C=()=>{const o=window.location.pathname;return("/"===o||"/wwhp"===o)&&!window.dotcom.config?.xPlatform},$=_,U=()=>{const o=window.location.pathname;return!window.orbitData&&!_()&&!v()&&y.test(o)},j={name:"ozone",url:()=>$()?"https://prebid.the-ozone-project.com/hw2/OZONEBBC4784/1500000107/current/ozpb.min.js":"https://prebid.the-ozone-project.com/hw2/OZONEBBC4784/8890582654/current/ozpb.min.js",meetsRequirements:o=>void 0!==o.ozone&&o.ozone&&!k(),id:"adunits_loader"},S={LOG:"log",INFO:"info",WARN:"warn",ERROR:"error",DEBUG:"debug"},T={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(T.enabled=!0);const A=function(o){return(e,t=S.LOG)=>{T.enabled&&console[t](`dotcom:${o} ${e}`)}},P=(new URLSearchParams(window.location.search),A("sourcepoint")),O={name:"sourcepoint",url:()=>"https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js",preLoad:()=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(e)}!function(){for(var e,t,n=[],i=window,a=i;a;){try{if(a.frames.__tcfapiLocator){e=a;break}}catch(e){}if(a===i.top)break;a=i.parent}e||(function o(){var e=i.document,t=!!i.frames.__tcfapiLocator;if(!t)if(e.body){var n=e.createElement("iframe");n.style.cssText="display:none",n.name="__tcfapiLocator",e.body.appendChild(n)}else setTimeout(o,5);return!t}(),i.__tcfapi=function(){for(var o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];if(!e.length)return n;"setGdprApplies"===e[0]?e.length>3&&2===parseInt(e[1],10)&&"boolean"==typeof e[3]&&(t=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:t,cmpLoaded:!1,cmpStatus:"stub"}):n.push(e)},i.addEventListener("message",(function(e){var t="string"==typeof e.data,n={};if(t)try{n=JSON.parse(e.data)}catch(e){}else n=e.data;var i="object"===o(n)?n.__tcfapiCall:null;i&&window.__tcfapi(i.command,i.version,(function(o,n){var a={__tcfapiReturn:{returnValue:o,success:n,callId:i.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(a):a,"*")}),i.parameter)}),!1))}(),function(){var o=window,e=document;function t(e){var t="string"==typeof e.data;try{var n=t?JSON.parse(e.data):e.data;if(n.__cmpCall){var i=n.__cmpCall;o.__uspapi(i.command,i.parameter,(function(o,n){var a={__cmpReturn:{returnValue:o,success:n,callId:i.callId}};e.source.postMessage(t?JSON.stringify(a):a,"*")}))}}catch(n){}}!function t(){if(!o.frames.__uspapiLocator)if(e.body){var n=e.body,i=e.createElement("iframe");i.style.cssText="display:none",i.name="__uspapiLocator",n.appendChild(i)}else setTimeout(t,5)}(),"function"!=typeof __uspapi&&(o.__uspapi=function(){var o=arguments;if(__uspapi.a=__uspapi.a||[],!o.length)return __uspapi.a;"ping"===o[0]?o[2]({gdprAppliesGlobally:!1,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(o))},__uspapi.msgHandler=t,o.addEventListener("message",t,!1))}(),window._sp_queue=[],window._sp_={config:{accountId:1786,baseEndpoint:"https://cdn.privacy-mgmt.com",consentLanguage:"en",ccpa:{},gdpr:{},events:{onConsentReady:function(o){const e=new Event("ngas:consentReady"),{dotcom:{userinfo:{eea:t}}}=window;"gdpr"===o&&t&&window.dispatchEvent(e),"ccpa"!==o||t||window.dispatchEvent(e)},onError:function(){P(`onError', ${JSON.stringify(arguments)}`)}}}}},meetsRequirements:o=>window.location===window.parent.location&&(void 0!==o.cmp&&o.cmp)},z=o=>{const e=o?o.replace(/(_|-|\/)[0-9]{7,8}$/,""):"";let t=e.indexOf("/")>-1?e.split("/"):[e];return t=t.filter((o=>""!==o)),{path:e,sectionsArr:t}};let D=!1;const X=()=>{let o;const e=window.dotcomConfig&&window.dotcomConfig.pageData;e&&(e&&e.collection&&e.collection.length&&(o=e.collection.map((o=>o.title.toLowerCase().replace(/ /g,"_"))).join(","),window.dotcom.data.newKeyValues.coll=o),e&&e.destination&&e.destination.length&&(o=e.destination.map((o=>o.title.toLowerCase().replace(/ /g,"_"))).join(","),window.dotcom.data.newKeyValues.destination=o),e&&e.topics&&e.topics.length&&(o=e.topics.map((o=>o.title.toLowerCase().replace(/ /g,"_"))).join(","),window.dotcom.data.newKeyValues.top_tags=o),e&&e.urn&&(window.dotcom.data.newKeyValues.page_id=e.urn),e&&e.type&&(window.dotcom.data.newKeyValues.page_type=e.type.replace("indexPage","index")),window.dotcom.config.adCampaign&&(window.dotcom.data.newKeyValues.leg_n_keyword=window.dotcom.config.adCampaign),window.dotcom.config.topics&&window.dotcom.config.topics.length&&(window.dotcom.data.newKeyValues.leg_n_topic=window.dotcom.config.topics),e&&"boolean"==typeof e.allowAdvertising&&(window.dotcom.config.allowAdvertising=e.allowAdvertising),D=!0)},q=o=>{const{pathname:e,hostname:t,search:n}=window.location,i=(o=>{const e={AV:"media_asset",INDEX:"index",FIX:"index",STY:"story"};let t;const n=window?.SIMORGH_DATA?.pageData?.metadata?.type;return void 0===t&&n&&(t=e[n]),void 0===t&&(t=/[0-9]{7,8}$/.test(o)?"story":"index",(o.includes("/articles/")||o.includes("/article/"))&&(t="story")),/\/(sport|news)\/live\//.test(o)&&(t="live_event"),t})(e),{adCampaign:a,topics:d=[]}=window.dotcom.config,s=(o=>{const e=o.split("/");return"wwhp"===e[1]?"homepage":e[1]||"homepage"})(e),r=(o=>{let e=/[0-9]{7,8}$/.test(o)?"content":"index";return(o.includes("/articles/")||o.includes("/article/"))&&(e="content"),e})(e),c=(()=>{let o="nonbbc";const e=document.referrer.split("https://www.bbc.com/");return 2===e.length&&(o=encodeURIComponent(e[1].replace(/-|\/|_/g,"")),o.length>64&&(o="")),o})(),w=(o=>{const{path:e,sectionsArr:t}=z(o);return e===o&&1===t.length?"homepage":t[1]?t[1]:""})(e),l=(o=>{const{sectionsArr:e}=z(o);return e[2]?e[2]:""})(e),p=(o=>{let e;if(o){const t=o.split("/");4===t.length&&"article"===t[2]?e=t[3]:(/([0-9]{7,8})$/.test(o)&&(e=RegExp.$1),/(\/articles\/)(c[0-9a-hj-np-z]{10,}o$)/.test(o)&&(e=RegExp.$2))}return e})(e),m=((o,e)=>{if("worldservice"!==e)return"";let t;return t=o.split("/").pop().split("_"),t.shift(),t=t.join("_"),t})(e,s),u=(o=>{const{top:e,self:t}=window,n=e!==t?e.location.search:o;return new URLSearchParams(n)})(n);window.dotcom.data={adUnit:"",channel:s,section:w,subsection:l,asset_type:i,adCampaign:a,topics:d,story_id:p??"",urlParams:u,keyValues:{asset_type:i,channel:s,ctype:r,sectn:w,...l&&{subsect:l},domain:t,referrer:c,...p&&{story_id:p},...m&&{title:m}},newKeyValues:{page_id:"",grp:"",pas_tags:"",top_tags:"",fran_tags:"",prod:"bbccom",ref_pillar:"",coll:"",destination:"",pillar:"",sect:"",page_type:"",fed_id:"",leg_v_col:"",leg_t_dest:"",leg_n_keyword:"",leg_n_topic:"",leg_adunit2:"",domain:t,referrer:c}},o&&Object.keys(o).forEach((e=>{"tags"===e&&(o[e]=encodeURIComponent(o[e])),window.dotcom.data.keyValues[e]=o[e]})),$()&&(()=>{let o,e;$()&&!D&&(window.dotcomConfig&&window.dotcomConfig.pageData?X():(o=setInterval((()=>{e=window.dotcomConfig&&window.dotcomConfig.pageData,e&&(X(),clearInterval(o))}),100),setTimeout((()=>{clearInterval(o)}),1e3)))})()},G=()=>window.dotcom.data,N="tkn-exp";let B,M,V;window.dotcom=window.dotcom||{},window.dotcom.idcta=window.dotcom.idcta||{};const K=async()=>{let e="https://idcta.api.bbc.com/idcta/config";f.isTestEnv(window.location.href)&&(e="https://idcta.test.api.bbc.com/idcta/config"),f.isStageEnv(window.location.href)&&(e="https://idcta.stage.api.bbc.com/idcta/config");const t=(o=>{let e=`${o.toUpperCase()}_GNL`;return I()&&(e="FEATURES_SITE_GNL"),k()&&(e="NEWS_LANGUAGES_GNL"),f.isTestEnv()&&(e=`${e}_TEST`),e})(window.dotcom.data.channel),n=`${window.location.href.split("?")[0]}?zephr-REPLACETYPE`,i=`${e}?userOrigin=${t}&ptrt=${encodeURIComponent(n)}`,a=await fetch(i,{cache:"no-store"});if(!a.ok)throw new Error(`ID CTA Config Endpoint returned ${a.status}`);if(B=await a.json(),window.dotcom.idcta.signout=()=>{window.dotcom.idcta.signedIn&&(window.dotcom.idcta.signedIn=!1,window.location.href=`${B.signout_url}?ptrt=${window.location.href}`)},M=o(B.identity.idSignedInCookieName),M){window.dotcom.idcta.signedIn=!0;const o=window.atob(M);V=JSON.parse(o)}return window.dotcom.idcta.signin_url=B.signin_url,window.dotcom.idcta.register_url=B.register_url,window.dotcom.idcta.signout_url=B.signout_url,"GREEN"===B["id-availability"]},F=A("xpel"),J=((o=window.location.href)=>f.isTestEnv(o)?"https://xproxy.test.api.bbc.com":f.isStageEnv(o)?"https://xproxy.stage.api.bbc.com":"https://xproxy.api.bbc.com")(),Y=()=>{const e=o("blaize_jwt"),t=window.dotcom.idcta?.signedIn||!1,n={...G().keyValues};return n.topics=window.dotcom.config?.topics?.toString(),n.country=window.dotcom.userinfo.country,n.under16=o("ckns_under16"),n.marketing=o("ckns_marketing"),n.signin_url=window.dotcom.idcta?.signin_url,n.register_url=window.dotcom.idcta?.register_url,n.signedIn=t,!!window.dotcom.flags.zephr&&(window.zephrBrowser&&window.zephrBrowser.run({cdnApi:J,jwt:e,customData:n}),!0)},Q=()=>{const e=o("blaize_jwt"),t=o("ckns_marketing"),n={credentials:"include",method:"POST"};if(window.dotcom.flags.xproxy&&window.dotcom.flags.idcta&&window.dotcom.idcta.signedIn){if(t)n.body=JSON.stringify({marketingOptIn:t});else if(e)return void Y();fetch(`${J}/zephr-token`,n).then((()=>{var o;F("fetch xproxy success"),t&&(o="ckns_marketing","undefined"!=typeof document&&o&&(document.cookie=`${encodeURIComponent(o)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=.bbc.com; path=/`)),Y()})).catch((()=>{F("fetch xproxy fail"),Y()}))}},H=()=>{window.dotcom.flags.idcta&&window.dotcom.idcta.signedIn&&(async o=>{const{[N]:e}=V,t=new Date(e-6e5);if(Date.now()<t&&!o)return"ensureTokens success - token still valid";const n=await fetch(B.signin_url,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`ensureTokens fail - ${B.signin_url} returned ${n.status}`);return"ensureTokens success - token refreshed!"})(!0).then((o=>{F(o),Q(),window.dotcom.xpel={callProxy:Q}})).catch((o=>{F(o)}))},W=()=>{window.dotcom.flags.zephr&&((()=>{const o=(o,e)=>{const t=document.createElement("div");t.setAttribute("class",o),e?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t)};0===document.getElementsByClassName(`zephr_${G().asset_type}`).length&&o(`zephr_${G().asset_type}`),0===document.getElementsByClassName("zephr_meter").length&&o("zephr_meter"),window.dotcom.flags.beta&&!$()&&(o("zephr_join_beta",!0),o(`zephr_join_beta_${G().asset_type}`))})(),(()=>{if(window.Reverb)window.dotcom.reverbInstance=window.Reverb;else try{window.__reverb.__reverbLoadedPromise.then((o=>{window.dotcom.reverbInstance=o}))}catch(o){F("Fail to initiate reverb fallback")}})()),f.isSignedIn()||(window.dotcom.flags.xproxy=!1),window.dotcom.flags.xproxy?H():window.dotcom.flags.zephr&&Y()},Z="https://assets.zephr.com/zephr-browser/1.5.2/zephr-browser.umd.js",oo=o=>{window.zephrBrowser=o,W()},eo={name:"zephr",url:()=>Z,preLoad:()=>{window.zephrBrowser=window.zephrBrowser||{}},meetsRequirements:()=>window.dotcom.flags.zephr,onLoad:()=>{oo(window.zephrBrowser)},requirejs:()=>{window.requirejs([Z],(o=>{oo(o)}))}},to=A("measurePerformance"),no=(o,e,t)=>{((o,e)=>{if(!e)return!1;const t=[o,e],n=window.performance.getEntriesByType("mark");return t.every((o=>n.some((e=>e.name===o||"{}"===JSON.stringify(o)))))})(e,t)?window.performance.measure(o,e,t):to(`Failed to measure ${o}, with: ${e}, ${t}`,S.WARN)},io=A("loader");window.dotcom=window.dotcom||{},window.dotcom.loader=window.dotcom.loader||{loading:[],loaded:[],failed:[],waiting:[]};const ao=o=>{o&&(window.performance.mark(`thirdparty-${o}-end`),no(`thirdparty-${o}-duration`,`thirdparty-${o}-start`,`thirdparty-${o}-end`))},so=({name:o,src:e,onLoad:t,onError:n,firstParty:i,legacy:a,id:d})=>{const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=()=>{ao(o),t()},s.onerror=n,a?(s.defer=!0,s.nomodule=!0):i&&(s.type="module"),d&&s.setAttribute("id",d),document.head.appendChild(s)},ro=({src:o,onLoad:e,onError:t})=>{const n=new Image(1,1);n.onload=e,n.onerror=t,n.src=o},co=({name:o,src:e,onLoad:t,onError:n})=>{const{require:i}=window;i.config({paths:{[o]:e}});i([o],(e=>(e=>{ao(o),t(e)})(e)),(()=>n()))},wo=(o,e)=>{window.dotcom.loader.waiting[o].forEach((({resolve:t,reject:n})=>{e?t(`${o} has loaded`):n(new Error(`${o} failed to load`))}))},lo=({name:o,url:e,urlParams:t,requireUrl:n,preLoad:i,onLoad:a,isImage:d,id:s},r,c)=>{window.performance.mark(`thirdparty-${o}-start`);const{requirejs:w,dotcom:l}=window;l.loader.loading.push(o),l.loader.waiting[o]=[],"function"==typeof i&&i();const p="function"==typeof t?t():"",m=w&&n?n():e(p);let u=so;d&&(u=ro),w&&n&&(u=co),u({name:o,src:m,onLoad:e=>{const t=`load success > ${o}`;io(t),l.loader.loaded.push(o),"function"==typeof a&&a(e),r&&r(t),wo(o,!0)},onError:()=>{const e=`load fail > ${o}`;io(e),l.loader.failed.push(o),c&&c(new Error(e)),wo(o,!1)},firstParty:!1,legacy:!1,id:s})},po=({name:o,url:e,urlParams:t,requireUrl:n,meetsRequirements:i,preLoad:a,onLoad:d,image:s=!1,id:r=null})=>{!window.dotcom.loader.loading.includes(o)&&i(window.dotcom.flags)&&lo({name:o,url:e,urlParams:t,requireUrl:n,preLoad:a,onLoad:d,image:s,id:r})},mo=({name:o,url:e,urlParams:t,requireUrl:n,meetsRequirements:i,preLoad:a,onLoad:d,image:s=!1,id:r=null})=>new Promise(((c,w)=>{window.dotcom.loader.loaded.includes(o)?c(`${o} was already loaded`):window.dotcom.loader.failed.includes(o)?w(new Error(`${o} failed to load`)):window.dotcom.loader.loading.includes(o)?window.dotcom.loader.waiting[o].push({resolve:c,reject:w}):i(window.dotcom.flags)?lo({name:o,url:e,urlParams:t,requireUrl:n,preLoad:a,onLoad:d,image:s,id:r},c,w):w(new Error(`${o} doesn't meet requirements`))})),uo=o=>{o.forEach((o=>{po(o)}))},fo=(o,e)=>{so({src:o,onLoad:()=>{},onError:()=>{},firstParty:!0,legacy:e})},go=(o,e)=>new Promise(((t,n)=>{so({src:o,onLoad:t,onError:n,firstParty:!0,legacy:e})})),ho=(o,e,t,n,i)=>{if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},e.config.projectId=t,e.config.apiKey=n,e.config.environment=e.config.environment||"production";for(var a=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],d=0;d<a.length;d++){var s=a[d];e[s]=function(o){return function(){var t=Array.prototype.slice.call(arguments,0);e.q.push({functionName:o,arguments:t})}}(s)}}},yo="e488cdb0-e7cb-4d91-9648-60d437d8e491",bo={name:"permutive",url:()=>`https://cdn.permutive.com/${yo}-web.js`,preLoad:()=>{ho(document,window.permutive,yo,"1bb84885-9325-4fef-adda-a208032b2715",{consentRequired:!0})},meetsRequirements:o=>!(k()&&!L())&&(void 0!==o.permutive&&o.permutive)},vo={name:"grapeshot",urlParams:()=>({pageUrl:window.location.href.split("?")[0]}),url:o=>{let e=o.pageUrl;return e.indexOf("/ws/av-embeds/cps/")>0&&(e=`${e.split("ws/av-embeds/cps/")[0]}${e.split("/ws/av-embeds/cps/")[1].split("/").splice(0,2).join("/")}`),e=encodeURIComponent(e),`https://bbc.gscontxt.net/?url=${e}`},meetsRequirements:o=>void 0!==o.grapeshot&&o.grapeshot},_o=o=>{const e=void 0!==n("covatic")?n("covatic"):2===window.dotcom.consent;o.Client("U2FsdGVkX18EsRRiop2bz2RGRCxBsCIBgDXwov3o+yGa10gNZfD5U7y683Ja4/kuLsfa+sKCaGH8ZcR8as78SpmuJAsleZqjKzAxgG7cEz/OQevd0xUqQG4rb5GczlQa4Be1qBGI5X+1BWz+JoFUmfikRq12Pm0Q+t1MV37ddCQYEAD+WXDeJsdGvnadtPAqREhsxQpplDcbh42OBugDVqXmVsXU72lXzfJK1swkenta+rGoVMQXSXOb4g6YkUP3"),e&&o.notifyConsent(!0),window.dotcom.covaticBrowserSDK=window.dotcom.covaticBrowserSDK||o},Eo={name:"covatic",url:()=>"https://browser.covatic.io/sdk/v1/latest.js",requireUrl:()=>"https://browser.covatic.io/sdk/v1/latest",onLoad:o=>{if(o?.Client)return void _o(o);const{covaticBrowserSDK:e}=window;if(e?.Client)return void _o(e);A("covatic")("SDK failed to load","error")},meetsRequirements:o=>"us"===window.dotcom.userinfo.country&&void 0!==o.covatic&&o.covatic},ko={name:"ias",url:()=>"https://cdn.adsafeprotected.com/iasPET.1.js",preLoad:()=>{window.__iasPET=window.__iasPET||{},window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.pubId="9708"},meetsRequirements:o=>!k()&&(-1!==window.location.search.indexOf("ias_publisher")||void 0!==o.ias_publisher&&o.ias_publisher)},Lo={name:"theMediaTrust",url:()=>"https://scripts.webcontentassessor.com/scripts/64ca3dfd44dd68a629e2e51a27e7ccd960974b5961e4ca2897139d14bf10be8b",meetsRequirements:o=>void 0!==o.tmt_media_filter&&o.tmt_media_filter},Io={name:"gpt",url:()=>"https://securepubads.g.doubleclick.net/tag/js/gpt.js",meetsRequirements:o=>void 0!==o.adverts&&o.adverts&&window.dotcom.config.pageAds},xo=(new URLSearchParams(window.location.search),{name:"speedcurve",preLoad:()=>{LUX=function(){function o(){return Date.now?Date.now():+new Date}var e,t=o(),n=window.performance||{},i=n.timing||{navigationStart:(null===(e=window.LUX)||void 0===e?void 0:e.ns)||t};function a(){return n.now?(e=n.now(),Math.floor(e)):o()-i.navigationStart;var e}(LUX=window.LUX||{}).ac=[],LUX.addData=function(o,e){return LUX.cmd(["addData",o,e])},LUX.cmd=function(o){return LUX.ac.push(o)},LUX.getDebug=function(){return[[t,0,[]]]},LUX.init=function(){return LUX.cmd(["init"])},LUX.mark=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];if(n.mark)return n.mark.apply(n,o);var t=o[0],i=o[1]||{};void 0===i.startTime&&(i.startTime=a()),LUX.cmd(["mark",t,i])},LUX.markLoadTime=function(){return LUX.cmd(["markLoadTime",a()])},LUX.measure=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];if(n.measure)return n.measure.apply(n,o);var t,i=o[0],d=o[1],s=o[2];(t="object"==typeof d?o[1]:{start:d,end:s}).duration||t.end||(t.end=a()),LUX.cmd(["measure",i,t])},LUX.send=function(){return LUX.cmd(["send"])},LUX.ns=t;var d=LUX;if(window.LUX_ae=[],window.addEventListener("error",(function(o){window.LUX_ae.push(o)})),window.LUX_al=[],"function"==typeof PerformanceObserver&&"function"==typeof PerformanceLongTaskTiming){var s=new PerformanceObserver((function(o){for(var e=o.getEntries(),t=0;t<e.length;t++)window.LUX_al.push(e[t])}));try{s.observe({type:"longtask"})}catch(o){}}return d}()},url:()=>"https://cdn.speedcurve.com/js/lux.js?id=4446653400",meetsRequirements:o=>{let e=void 0!==o.speedcurve&&o.speedcurve&&100*Math.random()<3;const t=$()?"dotcom":I()?"features":x()?"reel":C()?"wwhp":U()&&!0===window.dotcom.userinfo.notUkIp?"webcore":"";return!(!e||!t)&&(window.LUX=window.LUX||{},LUX.label=t,!0)}}),Ro={name:"piano",url:()=>"//cdn.tinypass.com/api/tinypass.min.js",meetsRequirements:o=>void 0!==o.piano&&o.piano&&"news"===G().channel||-1!==window.location.search.indexOf("piano-debug"),onLoad:()=>{const{tp:o}=window;f.isAdsDebug()&&o.push(["setDebug",!0]),o.push(["setAid","7I7hmRshpe"]),o.push(["setEndpoint","https://buy-eu.piano.io/api/v3"]),o.push(["setCxenseSiteId","3606632254074155369"]),o.push(["init",function(){o.experience.init()}])}},Co="https://federated-id.stage.api.bbc.co.uk",$o="tups71r2auumu",Uo="fedID",jo="google",So="permutative",To="piano",Ao={id:Uo,gam:`${Uo}${jo}`,permutive:`${Uo}${So}`,piano:`${Uo}${To}`},Po=()=>{const{localStorage:o}=window,e={...o};return Object.keys(e).filter((o=>o.includes(Ao.id))).reduce(((o,t)=>(o[t]=e[t],o)),{})},Oo=A("fedid:remote");async function zo(o,e){const t=`${Co}/encryptdeviceid`,n={device_id:o,third_party:e};try{const o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":$o},body:JSON.stringify(n)});if(!o.ok)return Oo(`encryptDeviceId | HTTP error ${o.status} for ${e}`,S.ERROR),!1;const i=await o.text();if(i.length>0)return Oo(`thirdParty retrieved: ${e}, ${i}`),window?.localStorage.setItem?.(`${Ao.id}${e}`,i),i;Oo("Encrypted device ID is not available",S.ERROR)}catch(o){Oo(`Error encrypting device ID ${o.message}`,S.ERROR)}}const Do=async o=>{const e=o[Ao.id]||await async function(){const o=`${Co}/getdeviceid`;try{const e=await fetch(o,{headers:{"X-API-KEY":$o}});if(!e.ok)return Oo(`HTTP error ${e.status}`,S.ERROR),!1;const t=await e.text();if(t.length>0)return Oo(`uuid retrieved: ${t}`),window?.localStorage.setItem?.("fedID",t),t;Oo("UUID is not available",S.ERROR)}catch(o){return Oo(`Error fetching uuid: ${o.message}`,S.ERROR),!1}}(),t=o[Ao.gam]||await zo(e,jo),n=o[Ao.permutive]||await zo(e,So),i=o[Ao.piano]||await zo(e,To);return{...e&&{fedID:e},...t&&{fedIDgoogle:t},...n&&{fedIDpermutative:n},...i&&{fedIDpiano:i}}},Xo=A("fedid"),qo=o=>!!(o[Ao.id]&&o[Ao.gam]&&o[Ao.permutive]&&o[Ao.piano]),Go=()=>{const{fedid:e}=window.dotcom.flags,t=o("ckns_policy"),n=t&&"1"===t.charAt(1);if(!e)return;if(!$())return;if(!n)return;Xo("init");const{requestIdleCallback:i}=window,a=Po(),d=()=>Do(a);qo(a)||(i?i(d):setTimeout(d,1e3));const s=qo(a)?S.LOG:S.WARN;Xo(`Total FedIDs retrieved: \n${JSON.stringify(a)}`,s)};window.performance.mark("bootstrap-js-load"),no("bootstrap-js-load-from-page-start",{},"bootstrap-js-load");const No="https://gn-web-assets.api.bbc.com/ngas";let Bo="";Bo="1.253.0-20231127-113203-a235930/";let Mo="";const Vo=`${No}/${Bo}dotcom-ads.js`,Ko=`${No}/${Bo}dotcom-analytics.js`,Fo=`${No}/${Bo}dotcom-preroll.js`,Jo=()=>{["https://securepubads.g.doubleclick.net","https://pagead2.googlesyndication.com","https://prebid.the-ozone-project.com","https://elb.the-ozone-project.com","https://bbc.gscontxt.net","https://cdn.permutive.com","https://api.permutive.com","https://cdn.adsafeprotected.com","https://static.adsafeprotected.com"].forEach((o=>{const e=document.createElement("link");e.href=o,e.rel="preconnect",document.head.appendChild(e)}))},Yo=()=>!0===window.dotcom.flags.adverts&&!0===window.dotcom.config.allowAdvertising,Qo=()=>{window.__tcfapi&&window.__tcfapi("getTCData",2,((o,e)=>{e&&(o.gdprApplies?window._sp_.gdpr.loadPrivacyManagerModal("779247"):window.__uspapi("getUSPData",1,(o=>{-1===JSON.stringify(o).indexOf("---")&&window._sp_.ccpa.loadPrivacyManagerModal("648383")})))}))};window.dotcom=window.dotcom||{},window.dotcom.cmd=window.dotcom.cmd||[],window.dotcom.userinfo={state:0,eea:!0,country:"gb",ads:!1,notUkIp:!1,...window.dotcom.userinfo},window.dotcom.flags={state:0,adverts:!1,idcta:!1,...window.dotcom.flags},window.dotcom.vendorConsent={},window.dotcom.showSourcePointMessage=Qo,window.dotcom.openPrivacyManagerModal=Qo;const Ho=Object.freeze({pageAds:!0,playerAds:!0,lang:"en",adCampaign:"",topics:[],allowAdvertising:!0,opsFlags:"",ngasFlags:"",userinfo:"",xPlatform:!1,comscorekw:"",adsSubsection:""});window.dotcom.config={...Ho,...window.dotcom.config};const Wo=(o,e)=>{if(null===e)return;const t=(o=>Object.keys(Ho).find((e=>e.toLowerCase()===o.toLowerCase())))(o);void 0!==t?window.dotcom.config[t]=e:f.isAdsDebug()&&console.log(`dotcom invalid config key: ${o}`)};window.dotcom.setConfig=Wo;let Zo=[],oe=[];if(window.dotcom.ads&&window.dotcom.ads.resolves){const{resolves:o}=window.dotcom.ads;o&&(o.getAdTag&&(Zo=o.getAdTag.slice()),o.enabled&&(oe=o.enabled.slice()),delete window.dotcom.ads.resolves)}const ee=(o,e)=>{window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting(o,e)}))};window.dotcom.ads={instances:{},resetAds:()=>{},destroySlot:()=>{},registerSlot:(o,e,t,n)=>{Yo()&&window.dotcom.cmd.push((()=>{window.dotcom.ads.registerSlot(o,e,t,n)}))},enabled:f.isAdsEnabled,setTargeting:(o,e)=>{window.googletag?ee(o,e):window.dotcom.cmd.push((()=>{ee(o,e)}))},getAdTag:()=>new Promise((o=>{var e;void 0!==window.dotcom.ads.adTag?(e=[vo,ko],new Promise((o=>{let t=0,n=[];e.forEach((i=>{mo(i).then((o=>{n=[...n,o]})).catch((o=>{n=[...n,o]})).then((()=>{t+=1,t===e.length&&o(n)}))}))}))).then((()=>window.dotcom.ads.adTag())).then((e=>{o(e)})):Yo()&&window.dotcom.config.playerAds?Zo.push(o):o("")}))};const te={};if(window.bbcdotcom){const o=window.bbcdotcom;o.pubsub.on=(o,e)=>{te[o]||(te[o]=[]),te[o].push(e)},o.pubsub.off=(o,e)=>{if(te[o]){const t=te[o].indexOf(e);-1!==t&&te[o].splice(t,1)}},o.pubsub.trigger=(o,e)=>{te[o]&&te[o].forEach((o=>o(e)))}}const ne=(o=!0)=>{Zo.length>0&&(Zo.forEach((e=>e(o?window.dotcom.ads.getAdTag():""))),Zo=[])},ie=()=>{Yo()?(uo([bo,ko,Eo]),go(Vo,Mo).then((()=>{!0===window.dotcom.flags.analytics&&fo(Ko,Mo),po(Ro),(()=>{const o=()=>po(xo);window.requestIdleCallback?window.requestIdleCallback(o):setTimeout(o,2e3)})()})),window.dotcom.config.playerAds?go(Fo,Mo).then(ne):ne(!1)):(ne(!1),(()=>{let o;if(window.bbcdotcom){if("news"===G().channel){const o=document.getElementsByClassName("nw-c-leaderboard-ad");o.length&&(o[0].style.height="0px")}"sport"===G().channel&&(o=document.getElementById("bbccom_leaderboard_1_2_3_4"),o&&(o.style.height="0px",o.style.paddingBottom="0px"))}else o=document.getElementById("dotcom-leaderboard"),o&&(o.style.height="0px")})(),!0===window.dotcom.flags.analytics&&fo(Ko,Mo)),window.performance.mark("bootstrap-js-complete"),no("bootstrap-js-duration","bootstrap-js-load","bootstrap-js-complete"),no("bootstrap-js-complete-from-page-start",{},"bootstrap-js-complete")},ae=()=>{if(!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads){if(f.checkCookies(),q(),window.location.hostname&&window.location.hostname.includes(".co.uk"))return window.dotcom.flags.adverts=!1,window.dotcom.flags.analytics=!1,window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1,void ie();Yo()&&uo([j,vo,Lo,Io]),mo(O).then((()=>{if(k()){const o=document.body.querySelector("header");o&&o.style.setProperty("z-index","2147483643")}new Promise((o=>{const e=(e,t)=>{t&&(e.gdprApplies?(window.dotcom.gdprApplies=!0,window.dotcom.vc=e.vendor.consents,i("comscore",e.vendor.consents[77]),i("permutive",e.vendor.consents[361]),i("nielsen",e.vendor.consents[373]&&e.vendor.consents[812]),o(!0)):(window.__uspapi("getUSPData",1,(o=>{-1===JSON.stringify(o).indexOf("---")&&(window.dotcom.ccpaApplies=!0,window.dotcom.ccpaString=o.uspString,0===o.uspString.indexOf("1YY")&&(i("comscore",!1),i("permutive",!1),i("nielsen",!1),i("covatic",!1)))})),o(!0)),o(!0)),o(!0)};window.addEventListener("ngas:consentReady",(()=>{window.__tcfapi("addEventListener",2,e,[77,164,361,373,812])}))})).then((()=>{ie()}))})).catch((o=>{console.log(`Failed to load sourcepoint - ${o}`),ie()})),$()&&(window.dotcom.flags.zephr=!1),k()||R()||!window.dotcom.flags.zephr&&!window.dotcom.flags.xproxy?(window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1):K().then((o=>{window.dotcom.flags.idcta=o,o?window.dotcom.flags.zephr?window.requirejs?eo.requirejs():po(eo):W():(window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1)})).catch((()=>{console.log("Fail to initiate idcta"),window.dotcom.flags.zephr=!1,window.dotcom.flags.xproxy=!1}))}};var de;window.dotcom.featuresInited=!1,window.dotcom.locationChange=o=>{var e;f.syncAdsEnabled()&&(I()&&window.dotcom.featuresInited&&(G().keyValues.pageType!==o.keyValues.pageType&&window.dotcom.ads.destroySlots(),G().channel!==o.keyValues.channel&&window.dotcom.ads.destroySlots()),e=o?o.keyValues:null,delete window.dotcom.data,q(e),I()||(window.dotcom.ads.resetAds(),window.dotcom.reinitAds()))},de=window.dotcomConfig||{},Object.keys(de).forEach((o=>{Wo(o,de[o])})),Wo("lang",document.documentElement.lang||window.dotcom.config.lang||Ho.lang),(async()=>{await f.init().catch((o=>{console.log(o)})),f.isDotcomAllowed()&&Yo()&&Jo(),window.dotcom.userinfo.state>0&&window.dotcom.flags.state>0?(Go(),ae()):window.dotcom.userinfo.state<0||window.dotcom.flags.state,oe.length&&oe.forEach((o=>{f.isAdsEnabled().then((e=>{o(e)}))}))})()}();